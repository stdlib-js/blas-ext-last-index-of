{"version":3,"file":"index.mjs","sources":["../lib/base.js","../lib/main.js","../lib/assign.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport dtypes from '@stdlib/ndarray-dtypes';\nimport glastIndexOf from '@stdlib/blas-ext-base-ndarray-glast-index-of';\nimport dlastIndexOf from '@stdlib/blas-ext-base-ndarray-dlast-index-of';\nimport slastIndexOf from '@stdlib/blas-ext-base-ndarray-slast-index-of';\nimport factory from '@stdlib/ndarray-base-unary-reduce-strided1d-dispatch-factory';\n\n\n// VARIABLES //\n\nvar idtypes0 = dtypes( 'all' ); // input ndarray\nvar idtypes1 = dtypes( 'all' ); // search element ndarray\nvar idtypes2 = dtypes( 'integer_index_and_generic' ); // from index ndarray\nvar odtypes = dtypes( 'integer_index_and_generic' );\nvar policies = {\n\t'output': 'integer_index_and_generic',\n\t'casting': 'none'\n};\nvar table = {\n\t'types': [\n\t\t'float64',\n\t\t'float32'\n\n\t\t// FIXME: add specialized support for `clastIndexOf` and `zlastIndexOf` once the corresponding packages are implemented\n\t],\n\t'fcns': [\n\t\tdlastIndexOf,\n\t\tslastIndexOf\n\t],\n\t'default': glastIndexOf\n};\n\n\n// MAIN //\n\n/**\n* Returns the last index of a specified search element along an ndarray dimension.\n*\n* @private\n* @name lastIndexOf\n* @type {Function}\n* @param {ndarrayLike} x - input ndarray\n* @param {ndarrayLike} searchElement - search element\n* @param {ndarrayLike} fromIndex - indices from which to begin searching\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform operation\n* @param {*} [options.dtype] - output ndarray data type\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} second argument must be either an ndarray-like object\n* @throws {TypeError} third argument must be either an ndarray-like object\n* @throws {TypeError} options argument must be an object\n* @throws {RangeError} dimension indices must not exceed input ndarray bounds\n* @throws {RangeError} number of dimension indices must not exceed the number of input ndarray dimensions\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import scalar2ndarray from '@stdlib/ndarray-from-scalar';\n* import ndarray from '@stdlib/ndarray-ctor';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 2.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 6 ];\n*\n* // Define the array strides:\n* var sx = [ 1 ];\n*\n* // Define the index offset:\n* var ox = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Create a search element ndarray:\n* var searchElement = scalar2ndarray( 2.0, {\n*     'dtype': 'float64'\n* })\n*\n* // Create a from index ndarray:\n* var fromIndex = scalar2ndarray( -1, {\n*     'dtype': 'int32'\n* })\n*\n* // Perform operation:\n* var out = lastIndexOf( x, searchElement, fromIndex );\n* // returns <ndarray>\n*\n* var idx = out.get();\n* // returns 3\n*/\nvar lastIndexOf = factory( table, [ idtypes0, idtypes1, idtypes2 ], odtypes, policies ); // eslint-disable-line max-len\n\n\n// EXPORTS //\n\nexport default lastIndexOf;\n\n// exports: { \"assign\": \"lastIndexOf.assign\" }\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport hasOwnProp from '@stdlib/assert-has-own-property';\nimport isPlainObject from '@stdlib/assert-is-plain-object';\nimport { isPrimitive as isInteger } from '@stdlib/assert-is-integer';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport broadcastScalar from '@stdlib/ndarray-base-broadcast-scalar';\nimport maybeBroadcastArray from '@stdlib/ndarray-base-maybe-broadcast-array';\nimport nonCoreShape from '@stdlib/ndarray-base-complement-shape';\nimport getDType from '@stdlib/ndarray-dtype';\nimport getShape from '@stdlib/ndarray-shape';\nimport getOrder from '@stdlib/ndarray-order';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport defaults from '@stdlib/ndarray-defaults';\nimport base from './base.js';\n\n\n// VARIABLES //\n\nvar DEFAULT_DTYPE = defaults.get( 'dtypes.integer_index' );\n\n\n// MAIN //\n\n/**\n* Returns the last index of a specified search element along an ndarray dimension.\n*\n* @param {ndarrayLike} x - input ndarray\n* @param {(ndarrayLike|*)} searchElement - search element\n* @param {(ndarrayLike|integer)} [fromIndex=-1] - index from which to begin searching\n* @param {Options} [options] - function options\n* @param {integer} [options.dim=-1] - dimension over which to perform operation\n* @param {boolean} [options.keepdims=false] - boolean indicating whether the reduced dimensions should be included in the returned ndarray as singleton dimensions\n* @param {*} [options.dtype] - output ndarray data type\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} second argument must be either an ndarray-like object or a scalar value\n* @throws {TypeError} third argument must be either an ndarray-like object or an integer\n* @throws {TypeError} options argument must be an object\n* @throws {RangeError} dimension index must not exceed input ndarray bounds\n* @throws {RangeError} first argument must have at least one dimension\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import ndarray from '@stdlib/ndarray-ctor';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 2.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 2, 3 ];\n*\n* // Define the array strides:\n* var sx = [ 3, 1 ];\n*\n* // Define the index offset:\n* var ox = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Perform operation:\n* var out = lastIndexOf( x, 2.0 );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ 1, 0 ]\n*/\nfunction lastIndexOf( x, searchElement, fromIndex ) {\n\tvar hasOptions;\n\tvar options;\n\tvar nargs;\n\tvar opts;\n\tvar fidx;\n\tvar iflg;\n\tvar ord;\n\tvar dt;\n\tvar sh;\n\tvar v;\n\n\tnargs = arguments.length;\n\tif ( !isndarrayLike( x ) ) {\n\t\tthrow new TypeError( format( 'null4f', x ) );\n\t}\n\tif ( nargs < 2 ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be either an ndarray or a scalar value. Value: `%s`.', searchElement ) );\n\t}\n\t// Resolve input ndarray meta data:\n\tdt = getDType( x );\n\tord = getOrder( x );\n\n\t// Initialize an options object:\n\topts = {\n\t\t'dims': [ -1 ], // default behavior is to perform a reduction over the last dimension\n\t\t'keepdims': false\n\t};\n\n\t// Initialize the `fromIndex` to the last element along a dimension:\n\tfidx = -1;\n\n\t// Initialize a flag indicating whether the `fromIndex` argument is a scalar:\n\tiflg = true;\n\n\t// Initialize a flag indicating whether an `options` argument was provided:\n\thasOptions = false;\n\n\t// Case: lastIndexOf( x, search_element, ??? )\n\tif ( nargs === 3 ) {\n\t\t// Case: lastIndexOf( x, search_element, from_index_scalar )\n\t\tif ( isInteger( fromIndex ) ) {\n\t\t\tfidx = fromIndex;\n\t\t}\n\t\t// Case: lastIndexOf( x, search_element, from_index_ndarray )\n\t\telse if ( isndarrayLike( fromIndex ) ) {\n\t\t\tfidx = fromIndex;\n\t\t\tiflg = false;\n\t\t}\n\t\t// Case: lastIndexOf( x, search_element, options )\n\t\telse {\n\t\t\toptions = fromIndex;\n\t\t\thasOptions = true;\n\t\t}\n\t}\n\t// Case: lastIndexOf( x, search_element, from_index, options )\n\telse if ( nargs > 3 ) {\n\t\t// Case: lastIndexOf( x, search_element, from_index_scalar, options )\n\t\tif ( isInteger( fromIndex ) ) {\n\t\t\tfidx = fromIndex;\n\t\t}\n\t\t// Case: lastIndexOf( x, search_element, from_index_ndarray, options )\n\t\telse if ( isndarrayLike( fromIndex ) ) {\n\t\t\tfidx = fromIndex;\n\t\t\tiflg = false;\n\t\t}\n\t\t// Case: lastIndexOf( x, search_element, ???, options )\n\t\telse {\n\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be either an ndarray or an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\toptions = arguments[ 3 ];\n\t\thasOptions = true;\n\t}\n\tif ( hasOptions ) {\n\t\tif ( !isPlainObject( options ) ) {\n\t\t\tthrow new TypeError( format( 'null2V', options ) );\n\t\t}\n\t\t// Resolve provided options...\n\t\tif ( hasOwnProp( options, 'dim' ) ) {\n\t\t\topts.dims[ 0 ] = options.dim;\n\t\t}\n\t\tif ( hasOwnProp( options, 'keepdims' ) ) {\n\t\t\topts.keepdims = options.keepdims;\n\t\t}\n\t\tif ( hasOwnProp( options, 'dtype' ) ) {\n\t\t\topts.dtype = options.dtype;\n\t\t}\n\t}\n\t// Resolve the list of non-reduced dimensions:\n\tsh = getShape( x );\n\tif ( sh.length < 1 ) {\n\t\tthrow new RangeError( 'invalid argument. First argument must have at least one dimension.' );\n\t}\n\tsh = nonCoreShape( sh, opts.dims );\n\n\t// Broadcast the search element to match the shape of the non-reduced dimensions...\n\tif ( isndarrayLike( searchElement ) ) {\n\t\tv = maybeBroadcastArray( searchElement, sh );\n\t} else {\n\t\tv = broadcastScalar( searchElement, dt, sh, ord ); // WARNING: potential for undesired value casting (e.g., if `searchElement` is `null` and cast to `float64`, the broadcasted scalar will be `0`, not `null`!)\n\t}\n\t// Broadcast the `fromIndex` to match the shape of the non-reduced dimensions...\n\tif ( iflg ) {\n\t\tfidx = broadcastScalar( fidx, DEFAULT_DTYPE, sh, ord );\n\t} else {\n\t\tfidx = maybeBroadcastArray( fidx, sh );\n\t}\n\treturn base( x, v, fidx, opts );\n}\n\n\n// EXPORTS //\n\nexport default lastIndexOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport hasOwnProp from '@stdlib/assert-has-own-property';\nimport isPlainObject from '@stdlib/assert-is-plain-object';\nimport { isPrimitive as isInteger } from '@stdlib/assert-is-integer';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport broadcastScalar from '@stdlib/ndarray-base-broadcast-scalar';\nimport maybeBroadcastArray from '@stdlib/ndarray-base-maybe-broadcast-array';\nimport nonCoreShape from '@stdlib/ndarray-base-complement-shape';\nimport getDType from '@stdlib/ndarray-dtype';\nimport getShape from '@stdlib/ndarray-shape';\nimport getOrder from '@stdlib/ndarray-order';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport defaults from '@stdlib/ndarray-defaults';\nimport { assign as base } from './base.js';\n\n\n// VARIABLES //\n\nvar DEFAULT_DTYPE = defaults.get( 'dtypes.integer_index' );\n\n\n// MAIN //\n\n/**\n* Returns the last index of a specified search element along an ndarray dimension and assigns the results to a provided output ndarray.\n*\n* @param {ndarrayLike} x - input ndarray\n* @param {(ndarrayLike|*)} searchElement - search element\n* @param {(ndarrayLike|integer)} [fromIndex=-1] - index from which to begin searching\n* @param {ndarrayLike} out - output ndarray\n* @param {Options} [options] - function options\n* @param {integer} [options.dim=-1] - dimension over which to perform operation\n* @throws {TypeError} function must be provided at least three arguments\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} third argument must be either an ndarray-like object or an integer\n* @throws {TypeError} output argument must be an ndarray-like object\n* @throws {TypeError} options argument must be an object\n* @throws {RangeError} dimension index must not exceed input ndarray bounds\n* @throws {RangeError} first argument must have at least one dimension\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import zeros from '@stdlib/ndarray-zeros';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import ndarray from '@stdlib/ndarray-ctor';\n*\n* // Create data buffers:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 2.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var shape = [ 2, 3 ];\n*\n* // Define the array strides:\n* var strides = [ 3, 1 ];\n*\n* // Define the index offset:\n* var offset = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, shape, strides, offset, 'row-major' );\n*\n* // Create an output ndarray:\n* var y = zeros( [ 2 ], {\n*     'dtype': 'int32'\n* });\n*\n* // Perform operation:\n* var out = assign( x, 2.0, y );\n* // returns <ndarray>\n*\n* var bool = ( out === y );\n* // returns true\n*\n* var arr = ndarray2array( out );\n* // returns [ 1, 0 ]\n*/\nfunction assign( x, searchElement, fromIndex, out ) {\n\tvar hasOptions;\n\tvar options;\n\tvar nargs;\n\tvar opts;\n\tvar fidx;\n\tvar iflg;\n\tvar ord;\n\tvar dt;\n\tvar sh;\n\tvar v;\n\tvar o;\n\n\tnargs = arguments.length;\n\tif ( !isndarrayLike( x ) ) {\n\t\tthrow new TypeError( format( 'null4f', x ) );\n\t}\n\t// Resolve input ndarray meta data:\n\tdt = getDType( x );\n\tord = getOrder( x );\n\n\t// Initialize an options object:\n\topts = {\n\t\t'dims': [ -1 ] // default behavior is to perform a reduction over the last dimension\n\t};\n\n\t// Initialize the `fromIndex` to the last element along a dimension:\n\tfidx = -1;\n\n\t// Initialize a flag indicating whether the `fromIndex` argument is a scalar:\n\tiflg = true;\n\n\t// Initialize a flag indicating whether an `options` argument was provided:\n\thasOptions = false;\n\n\t// Case: assign( x, search_element, out )\n\tif ( nargs <= 3 ) {\n\t\to = fromIndex;\n\t\tif ( !isndarrayLike( o ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be an ndarray. Value: `%s`.', o ) );\n\t\t}\n\t}\n\t// Case: assign( x, search_element, ???, ??? )\n\telse if ( nargs === 4 ) {\n\t\t// Case: assign( x, search_element, from_index, out )\n\t\tif ( isndarrayLike( out ) ) {\n\t\t\to = out;\n\n\t\t\t// Case: assign( x, search_element, from_index_scalar, out )\n\t\t\tif ( isInteger( fromIndex ) ) {\n\t\t\t\tfidx = fromIndex;\n\t\t\t}\n\t\t\t// Case: assign( x, search_element, from_index_ndarray, out )\n\t\t\telse if ( isndarrayLike( fromIndex ) ) {\n\t\t\t\tfidx = fromIndex;\n\t\t\t\tiflg = false;\n\t\t\t}\n\t\t\t// Case: assign( x, search_element, ???, out )\n\t\t\telse {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be either an ndarray or an integer. Value: `%s`.', fromIndex ) );\n\t\t\t}\n\t\t}\n\t\t// Case: assign( x, search_element, out, options )\n\t\telse {\n\t\t\to = fromIndex;\n\t\t\tif ( !isndarrayLike( o ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be an ndarray. Value: `%s`.', o ) );\n\t\t\t}\n\t\t\toptions = out;\n\t\t\thasOptions = true;\n\t\t}\n\t}\n\t// Case: assign( x, search_element, from_index, out, options )\n\telse { // nargs > 4\n\t\t// Case: assign( x, search_element, from_index_scalar, out, options )\n\t\tif ( isInteger( fromIndex ) ) {\n\t\t\tfidx = fromIndex;\n\t\t}\n\t\t// Case: assign( x, search_element, from_index_ndarray, out, options )\n\t\telse if ( isndarrayLike( fromIndex ) ) {\n\t\t\tfidx = fromIndex;\n\t\t\tiflg = false;\n\t\t}\n\t\t// Case: assign( x, search_element, ???, out, options )\n\t\telse {\n\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be either an ndarray or an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\to = out;\n\t\tif ( !isndarrayLike( o ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Fourth argument must be an ndarray. Value: `%s`.', o ) );\n\t\t}\n\t\toptions = arguments[ 4 ];\n\t\thasOptions = true;\n\t}\n\tif ( hasOptions ) {\n\t\tif ( !isPlainObject( options ) ) {\n\t\t\tthrow new TypeError( format( 'null2V', options ) );\n\t\t}\n\t\t// Resolve provided options...\n\t\tif ( hasOwnProp( options, 'dim' ) ) {\n\t\t\topts.dims[ 0 ] = options.dim;\n\t\t}\n\t}\n\t// Resolve the list of non-reduced dimensions:\n\tsh = getShape( x );\n\tif ( sh.length < 1 ) {\n\t\tthrow new RangeError( 'invalid argument. First argument must have at least one dimension.' );\n\t}\n\tsh = nonCoreShape( sh, opts.dims );\n\n\t// Broadcast the search element to match the shape of the non-reduced dimensions...\n\tif ( isndarrayLike( searchElement ) ) {\n\t\tv = maybeBroadcastArray( searchElement, sh );\n\t} else {\n\t\tv = broadcastScalar( searchElement, dt, sh, ord ); // WARNING: potential for undesired value casting (e.g., if `searchElement` is `null` and cast to `float64`, the broadcasted scalar will be `0`, not `null`!)\n\t}\n\t// Broadcast the `fromIndex` to match the shape of the non-reduced dimensions...\n\tif ( iflg ) {\n\t\tfidx = broadcastScalar( fidx, DEFAULT_DTYPE, sh, ord );\n\t} else {\n\t\tfidx = maybeBroadcastArray( fidx, sh );\n\t}\n\treturn base( x, v, fidx, o, opts );\n}\n\n\n// EXPORTS //\n\nexport default assign;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the last index of a specified search element along an ndarray dimension.\n*\n* @module @stdlib/blas-ext-last-index-of\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import ndarray from '@stdlib/ndarray-ctor';\n* import lastIndexOf from '@stdlib/blas-ext-last-index-of';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 2.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 2, 3 ];\n*\n* // Define the array strides:\n* var sx = [ 3, 1 ];\n*\n* // Define the index offset:\n* var ox = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Perform operation:\n* var out = lastIndexOf( x, 2.0 );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ 1, 0 ]\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport main from './main.js';\nimport assign from './assign.js';\n\n\n// MAIN //\n\nsetReadOnly( main, 'assign', assign );\n\n\n// EXPORTS //\n\nexport default main;\n\n// exports: { \"assign\": \"main.assign\" }\n"],"names":["lastIndexOf","factory","types","fcns","dlastIndexOf","slastIndexOf","default","glastIndexOf","dtypes","output","casting","DEFAULT_DTYPE","defaults","get","x","searchElement","fromIndex","hasOptions","options","nargs","opts","fidx","iflg","ord","dt","sh","v","arguments","length","isndarrayLike","TypeError","format","getDType","getOrder","dims","keepdims","isInteger","isPlainObject","hasOwnProp","dim","dtype","getShape","RangeError","nonCoreShape","maybeBroadcastArray","broadcastScalar","base","assign","out","o","setReadOnly","main"],"mappings":"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"}